

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pset &mdash; Sator v.01 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Sator v.01 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Sator v.01 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pset</h1><div class="highlight"><pre>
<span class="c">#!/usr/bin/env python</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span><span class="p">,</span> <span class="n">izip</span><span class="p">,</span> <span class="n">combinations</span>

<span class="kn">import</span> <span class="nn">utils</span>
<span class="kn">from</span> <span class="nn">const</span> <span class="kn">import</span> <span class="n">HIGH_PITCH_LIMIT</span><span class="p">,</span> <span class="n">LOW_PITCH_LIMIT</span><span class="p">,</span> <span class="n">Z_PARTNERS</span>


<span class="k">def</span> <span class="nf">transpose</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">pitch</span> <span class="o">+</span> <span class="n">sub_n</span> <span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="n">pitches</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">invert</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">transpose</span><span class="p">(</span><span class="n">multiply</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">sub_n</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_m</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">pitch</span> <span class="o">*</span> <span class="n">sub_m</span> <span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="n">pitches</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">transpose_multiply</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_n</span><span class="p">,</span> <span class="n">sub_m</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">multiply</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_m</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">transpose</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">sub_n</span><span class="p">)</span>

<div class="viewcode-block" id="SetRowBase"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase">[docs]</a><span class="k">class</span> <span class="nc">SetRowBase</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for PC/pitch sets and tone rows&quot;&quot;&quot;</span>

    <span class="c">#TODO: limit pitches to within PITCH_LIMIT bounds</span>
    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">_mod</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">_default_m</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">_ordered</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">_multiset</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="c">#Overrides</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">modulus</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;mod&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">modulus</span><span class="p">)</span>
        <span class="n">ordered</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;ordered&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ordered</span><span class="p">(</span><span class="n">ordered</span><span class="p">)</span>
        <span class="n">multiset</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;multiset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiset</span><span class="p">(</span><span class="n">multiset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__add__</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__add__</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">ps</span> <span class="o">=</span> <span class="n">other</span>        
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">long</span><span class="p">)):</span>
            <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">other</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ps</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rm_dupes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c">#TODO: add a __radd__ ?</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Compare equality between a ToneRow/PSet/PCSet and another object&quot;&quot;&quot;</span>

        <span class="c">#Are we comparing pitches as ordered lists or set membership?</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="c">#Is the other a PSet/PCSet or builtin ?</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="n">SetRowBase</span><span class="p">,</span> <span class="n">PSet</span><span class="p">,</span> <span class="n">PCSet</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppc</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">ppc</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">long</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppc</span> <span class="o">==</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppc</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">)</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="bp">NotImplemented</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">l</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">p</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">)</span>

<div class="viewcode-block" id="SetRowBase.copy"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitches</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Use to copy a ToneRow/PSet/PCSet with all data attributes.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">pitches</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span>
        <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">mod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span><span class="p">,</span>
                             <span class="n">multiset</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PPCSetBase</span><span class="p">):</span>
            <span class="n">new</span><span class="o">.</span><span class="n">canon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_canon_t</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_m</span><span class="p">)</span>
        <span class="n">new</span><span class="o">.</span><span class="n">_default_m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
        <span class="k">return</span> <span class="n">new</span>
</div>
<div class="viewcode-block" id="SetRowBase.mod"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.mod">[docs]</a>    <span class="k">def</span> <span class="nf">mod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_mod</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes one argument as the new modulus of the system.</span>
<span class="sd">        Without an argument, returns the current modulus.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">new_mod</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">=</span> <span class="n">new_mod</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span>
</div>
<div class="viewcode-block" id="SetRowBase.default_m"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.default_m">[docs]</a>    <span class="k">def</span> <span class="nf">default_m</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_m</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes one argument as the new default argument for M operations.</span>
<span class="sd">        (The default for Mod 12 is 5)</span>
<span class="sd">        Without an argument, returns the current default m.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">new_m</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span> <span class="o">=</span> <span class="n">new_m</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
</div>
<div class="viewcode-block" id="SetRowBase.multiset"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.multiset">[docs]</a>    <span class="k">def</span> <span class="nf">multiset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes one boolean argument and determines if the object is a multiset.</span>
<span class="sd">        (The default for all objects is False. ToneRows cannot be multisets)</span>
<span class="sd">        Without an argument, returns the current setting.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>        
            <span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span>
</div>
<div class="viewcode-block" id="SetRowBase.ordered"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.ordered">[docs]</a>    <span class="k">def</span> <span class="nf">ordered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes one boolean argument and determines if the object is ordered.</span>
<span class="sd">        (The default for PCSets is False. The default for PSets is True.)</span>
<span class="sd">        Without an argument, returns the current setting.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.pcs"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.pcs">[docs]</a>    <span class="k">def</span> <span class="nf">pcs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the pitch classes of the current set/row&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">pitch</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">]</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_pc_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns pitch classes as a Python set for internal use&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_pitch_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns pitches as a Python set for internal use&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.uo_pcs"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.uo_pcs">[docs]</a>    <span class="k">def</span> <span class="nf">uo_pcs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns unordered pitch classes in ascending order&quot;&quot;&quot;</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pcs</span><span class="p">[:]</span>
        <span class="n">output</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">output</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_unique_pcs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the unique, unordered pitch classes in ascending order. These</span>
<span class="sd">        are guarnteed to be unique regardless of rather or not the object is a</span>
<span class="sd">        multiset.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">output</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pc_set</span><span class="p">)</span>
        <span class="n">output</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">output</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.uo_pitches"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.uo_pitches">[docs]</a>    <span class="k">def</span> <span class="nf">uo_pitches</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the unordered pitches in ascending order&quot;&quot;&quot;</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[:]</span>
        <span class="n">output</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">output</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.ppc"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.ppc">[docs]</a>    <span class="k">def</span> <span class="nf">ppc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitches or pcs of a ToneRow, PCSet, or PSet taking into</span>
<span class="sd">        account the ordered and multiset settings. Given an objects settings,</span>
<span class="sd">        this is the representation that we expect.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c">#Ordered?</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span><span class="p">:</span>
            <span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span>
            <span class="n">pcs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pcs</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uo_pitches</span>
            <span class="n">pcs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uo_pcs</span>
        <span class="c">#PC/Pitch Set?</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PSet</span><span class="p">):</span>
            <span class="n">ppc</span> <span class="o">=</span> <span class="n">pitches</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ppc</span> <span class="o">=</span> <span class="n">pcs</span>
        <span class="c">#Multiset?</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span><span class="p">:</span>
            <span class="n">ppc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rm_dupes</span><span class="p">(</span><span class="n">ppc</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ppc</span>
</div>
    <span class="k">def</span> <span class="nf">_rm_dupes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ps</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all duplicates of a given pitch or pitch class from a list&quot;&quot;&quot;</span>
        <span class="n">new</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="p">[</span><span class="n">new</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">ps</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">[:]</span> <span class="k">if</span> <span class="n">num</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new</span>

<div class="viewcode-block" id="SetRowBase.each_n"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.each_n">[docs]</a>    <span class="k">def</span> <span class="nf">each_n</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields a number for each possible member in the object considering its</span>
<span class="sd">        modulus.</span>
<span class="sd">        (An object with a modulus of 12 would return [0, 1, 2...11])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">num</span>
</div>
    <span class="k">def</span> <span class="nf">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_n</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_invert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">invert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_n</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_transpose_multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sub_m</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_m</span><span class="p">:</span>
            <span class="n">sub_m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">pc</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> \
                  <span class="n">transpose_multiply</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">,</span> <span class="n">sub_n</span><span class="p">,</span> <span class="n">sub_m</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<div class="viewcode-block" id="SetRowBase.t"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.t">[docs]</a>    <span class="k">def</span> <span class="nf">t</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Transpose the object in place by the argument provided.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">sub_n</span><span class="p">))</span><span class="o">.</span><span class="n">pitches</span>
</div>
<div class="viewcode-block" id="SetRowBase.i"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.i">[docs]</a>    <span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Invert the object in place. If an argument is provided, also transpose</span>
<span class="sd">        the object in place by that amount.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_invert</span><span class="p">(</span><span class="n">sub_n</span><span class="p">))</span><span class="o">.</span><span class="n">pitches</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.t_rotations"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.t_rotations">[docs]</a>    <span class="k">def</span> <span class="nf">t_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of objects for each possible transposition of the given</span>
<span class="sd">        object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> \
                                           <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()]]</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.i_rotations"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.i_rotations">[docs]</a>    <span class="k">def</span> <span class="nf">i_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of objects for each possible transposition of the given</span>
<span class="sd">        object after inversion.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_invert</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> \
                                           <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()]]</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.m_rotations"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.m_rotations">[docs]</a>    <span class="k">def</span> <span class="nf">m_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of objects for each possible transposition of the given</span>
<span class="sd">        object after M.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> \
                                           <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()]]</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.mi_rotations"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.mi_rotations">[docs]</a>    <span class="k">def</span> <span class="nf">mi_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of objects for each possible transposition of the given</span>
<span class="sd">        object after MI.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> \
                                           <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()]]</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="SetRowBase.all_rotations"><a class="viewcode-back" href="../_templates/core.html#pset.SetRowBase.all_rotations">[docs]</a>    <span class="k">def</span> <span class="nf">all_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a flat list of objects for each possible TTO of the given object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t_rotations</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">i_rotations</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m_rotations</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mi_rotations</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

</div></div>
<div class="viewcode-block" id="PCBase"><a class="viewcode-back" href="../_templates/core.html#pset.PCBase">[docs]</a><span class="k">class</span> <span class="nc">PCBase</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for Tone rows and PC sets&quot;&quot;&quot;</span>

<div class="viewcode-block" id="PCBase.m"><a class="viewcode-back" href="../_templates/core.html#pset.PCBase.m">[docs]</a>    <span class="k">def</span> <span class="nf">m</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform M on the object in place. If an argument is provided, also</span>
<span class="sd">        transpose the object in place by that amount.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">sub_n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span><span class="p">))</span><span class="o">.</span><span class="n">pitches</span>
</div>
<div class="viewcode-block" id="PCBase.mi"><a class="viewcode-back" href="../_templates/core.html#pset.PCBase.mi">[docs]</a>    <span class="k">def</span> <span class="nf">mi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform M and I on the object in place. If an argument is provided,</span>
<span class="sd">        also transpose the object in play by that amount.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sub_m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">sub_n</span><span class="p">,</span> <span class="n">sub_m</span><span class="p">))</span><span class="o">.</span><span class="n">pitches</span>
        </div>
<div class="viewcode-block" id="PCBase.t_m"><a class="viewcode-back" href="../_templates/core.html#pset.PCBase.t_m">[docs]</a>    <span class="k">def</span> <span class="nf">t_m</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sub_n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sub_m</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform TnMm on the object in place, where n and m are positional</span>
<span class="sd">        arguments. If n is not provided, it defaults to 0. If m is not provided</span>
<span class="sd">        it defaults to the default_m of the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_m</span><span class="p">:</span>
            <span class="n">sub_m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">sub_n</span><span class="p">,</span> <span class="n">sub_m</span><span class="p">))</span><span class="o">.</span><span class="n">pitches</span>

</div></div>
<div class="viewcode-block" id="ToneRow"><a class="viewcode-back" href="../index.html#pset.ToneRow">[docs]</a><span class="k">class</span> <span class="nc">ToneRow</span><span class="p">(</span><span class="n">SetRowBase</span><span class="p">,</span> <span class="n">PCBase</span><span class="p">):</span>
    <span class="n">_modulus</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">class</span> <span class="nc">IncompleteException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;multiset&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;ordered&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span>
        <span class="n">SetRowBase</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s">&#39;Tone rows must be instantiated with a number of &#39;</span> <span class="o">+</span> \
                  <span class="s">&#39;pitches or pcs equal to their modulus&#39;</span>
            <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncompleteException</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

<div class="viewcode-block" id="ToneRow.swap"><a class="viewcode-back" href="../index.html#pset.ToneRow.swap">[docs]</a>    <span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given two arguments, swap the PC&#39;s in the ToneRow that are at these</span>
<span class="sd">        positions. </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[</span><span class="n">b</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.P"><a class="viewcode-back" href="../index.html#pset.ToneRow.P">[docs]</a>    <span class="k">def</span> <span class="nf">P</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the prime of the ToneRow&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.R"><a class="viewcode-back" href="../index.html#pset.ToneRow.R">[docs]</a>    <span class="k">def</span> <span class="nf">R</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the retrograde of the ToneRow&quot;&quot;&quot;</span>
        <span class="n">ppc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppc</span>
        <span class="n">ppc</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">ppc</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.I"><a class="viewcode-back" href="../index.html#pset.ToneRow.I">[docs]</a>    <span class="k">def</span> <span class="nf">I</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the inversion of the ToneRow&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_invert</span><span class="p">()</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.RI"><a class="viewcode-back" href="../index.html#pset.ToneRow.RI">[docs]</a>    <span class="k">def</span> <span class="nf">RI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the retrograde inversion of the ToneRow&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="o">.</span><span class="n">I</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.M"><a class="viewcode-back" href="../index.html#pset.ToneRow.M">[docs]</a>    <span class="k">def</span> <span class="nf">M</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Mm of the ToneRow, where m = the default_m of the ToneRow</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">()</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.MI"><a class="viewcode-back" href="../index.html#pset.ToneRow.MI">[docs]</a>    <span class="k">def</span> <span class="nf">MI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the MmI of the ToneRow, where m = the default_m of the ToneRow</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.RM"><a class="viewcode-back" href="../index.html#pset.ToneRow.RM">[docs]</a>    <span class="k">def</span> <span class="nf">RM</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the retrograde of the M of the ToneRow.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="o">.</span><span class="n">M</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ToneRow.RMI"><a class="viewcode-back" href="../index.html#pset.ToneRow.RMI">[docs]</a>    <span class="k">def</span> <span class="nf">RMI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the retrograde of the MI of the ToneRow.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="o">.</span><span class="n">MI</span>
</div>
<div class="viewcode-block" id="ToneRow.ordered"><a class="viewcode-back" href="../index.html#pset.ToneRow.ordered">[docs]</a>    <span class="k">def</span> <span class="nf">ordered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Overridden so that ToneRows are always ordered.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ordered</span> <span class="o">=</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="ToneRow.multiset"><a class="viewcode-back" href="../index.html#pset.ToneRow.multiset">[docs]</a>    <span class="k">def</span> <span class="nf">multiset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multi</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Overridden so that ToneRows are never multisets.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_multiset</span> <span class="o">=</span> <span class="bp">False</span>

</div></div>
<div class="viewcode-block" id="PPCSetBase"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase">[docs]</a><span class="k">class</span> <span class="nc">PPCSetBase</span><span class="p">(</span><span class="n">SetRowBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for PCSet and PSet&quot;&quot;&quot;</span>

    <span class="n">_canon_t</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">_canon_i</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">_canon_m</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">)</span>

<div class="viewcode-block" id="PPCSetBase.insert"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.insert">[docs]</a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">place</span><span class="p">,</span> <span class="n">pitch</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given arguments (place, pitch) insert the pitch at the place position.</span>
<span class="sd">        Take care to inspect the object&#39;s pitches attribute rather than it&#39;s</span>
<span class="sd">        __repr__, which uses the ppc attribute and may truncate duplicates.</span>
<span class="sd">        If the position is too great, the pitch will be appended at the end.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[:</span><span class="n">place</span><span class="p">]</span>
            <span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>
            <span class="n">pitches</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">[</span><span class="n">place</span><span class="p">:])</span>
            <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">pitches</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PPCSetBase.clear"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all pitches/pitch classes from the object.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
</div>
<div class="viewcode-block" id="PPCSetBase.canon"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.canon">[docs]</a>    <span class="k">def</span> <span class="nf">canon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes arguments in the form of (T, I, M) where each is a boolean.</span>
<span class="sd">        These arguments determine which TTO&#39;s are canonical. These TTO&#39;s are</span>
<span class="sd">        used to determine an object&#39;s set-class.</span>
<span class="sd">        (The default canonical operators are T and I, hence the common name</span>
<span class="sd">        Tn/TnI type).</span>
<span class="sd">        Ex:</span>
<span class="sd">            a.canon(True, False, False)</span>

<span class="sd">            a.prime would now give the Tn-type, and ignore inversion as an</span>
<span class="sd">            operation for determining set-class membership.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_canon_t</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">t</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_canon_i</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">i</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_canon_m</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">m</span> <span class="k">else</span> <span class="bp">False</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.get_canon"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.get_canon">[docs]</a>    <span class="k">def</span> <span class="nf">get_canon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a three tuple showing which TTO&#39;s are canonical for the given</span>
<span class="sd">        object. These are in the order (T, I, M). Refer to canon() for details</span>
<span class="sd">        on how these settings are used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_canon_t</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_m</span><span class="p">)</span>
</div>
    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="PPCSetBase.fromint"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.fromint">[docs]</a>    <span class="k">def</span> <span class="nf">fromint</span><span class="p">(</span><span class="n">integer</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="mi">12</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Static method that returns a PCSet object with pc&#39;s generated from</span>
<span class="sd">        their integer representation.</span>
<span class="sd">            Ex:</span>
<span class="sd">                0 = [], 1 = [0], 2 = [1], 3 = [0, 1], 4 = [2], 5 = [0, 2]</span>
<span class="sd">                PCSet.fromint(5) returns PCSet([0, 2])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_set</span> <span class="o">=</span> <span class="n">PCSet</span><span class="p">(</span><span class="n">mod</span><span class="o">=</span><span class="n">modulus</span><span class="p">)</span>
        <span class="n">new_set</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">fromint</span><span class="p">(</span><span class="n">integer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_set</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.setint"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.setint">[docs]</a>    <span class="k">def</span> <span class="nf">setint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the integer representation for the unique PC&#39;s in a given</span>
<span class="sd">        object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">utils</span><span class="o">.</span><span class="n">setint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_unique_pcs</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.pcint"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.pcint">[docs]</a>    <span class="k">def</span> <span class="nf">pcint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the integer representation of a given object in prime form.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">utils</span><span class="o">.</span><span class="n">setint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prime</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PPCSetBase.each_card"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.each_card">[docs]</a>    <span class="k">def</span> <span class="nf">each_card</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields every set with the same cardinality as the given object, taking</span>
<span class="sd">        into account the object&#39;s modulus.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">combinations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">cardinality</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PPCSetBase.each_set"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.each_set">[docs]</a>    <span class="k">def</span> <span class="nf">each_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields every possible set in the modulus of the given object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">fromint</span><span class="p">(</span><span class="n">integer</span><span class="p">))</span> \
                <span class="k">for</span> <span class="n">integer</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PPCSetBase.each_prime"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.each_prime">[docs]</a>    <span class="k">def</span> <span class="nf">each_prime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields each unique set-class in the modulus of the given object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">each</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_set</span><span class="p">()</span> <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">prime</span> <span class="o">==</span> <span class="n">each</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.cardinality"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.cardinality">[docs]</a>    <span class="k">def</span> <span class="nf">cardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the cardinality of the given object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pc_set</span><span class="p">)</span>

    <span class="c"># Helper functions for prime()</span></div>
    <span class="k">def</span> <span class="nf">_t_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Same as the public method, but enforces that the returned objects are</span>
<span class="sd">        PCSets for use with the prime method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">))</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> \
                                                  <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()])</span>

    <span class="k">def</span> <span class="nf">_i_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Same as the public method, but enforces that the returned objects are</span>
<span class="sd">        PCSets for use with the prime method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">))</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_invert</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> \
                                                  <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()])</span>

    <span class="k">def</span> <span class="nf">_m_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Same as the public method, but enforces that the returned objects are</span>
<span class="sd">        PCSets for use with the prime method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">))</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> \
                                                  <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()])</span>

    <span class="k">def</span> <span class="nf">_mi_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Same as the public method, but enforces that the returned objects are</span>
<span class="sd">        PCSets for use with the prime method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rot</span><span class="p">))</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> \
                                                  <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_rotation_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a nested list with the interger representation for each object</span>
<span class="sd">        returned from _rotations()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[[</span><span class="n">utils</span><span class="o">.</span><span class="n">setint</span><span class="p">(</span><span class="n">pcs</span><span class="p">)</span> <span class="k">for</span> <span class="n">pcs</span> <span class="ow">in</span> <span class="n">rotation</span><span class="p">]</span> \
            <span class="k">for</span> <span class="n">rotation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rotations</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">_rotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a nested list of PCSet objects for each canonical TTO for a</span>
<span class="sd">        given object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">setify</span><span class="p">(</span><span class="n">pitches</span><span class="p">):</span>
            <span class="n">pcs</span> <span class="o">=</span> <span class="p">[</span><span class="n">pitch</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="n">pitches</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">pitches</span><span class="p">))</span>
            <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_t</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_t_rotations</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_i</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_i_rotations</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_m</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_m_rotations</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_i</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_m</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mi_rotations</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">setify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcs</span><span class="p">)])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_i</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">setify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_invert</span><span class="p">())])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canon_m</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">setify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">(</span><span class="mi">0</span><span class="p">))])</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.prime_operation"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.prime_operation">[docs]</a>    <span class="k">def</span> <span class="nf">prime_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The (n, m) pair to perform on the given object in order to obtain its</span>
<span class="sd">        prime.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">low_vals</span> <span class="o">=</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">izip</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">count</span><span class="p">()))</span> \
            <span class="k">for</span> <span class="n">operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rotation_ints</span><span class="p">]</span>
        <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">izip</span><span class="p">(</span><span class="n">low_vals</span><span class="p">,</span> <span class="n">count</span><span class="p">()))</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">min_val</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">oper</span> <span class="o">=</span> <span class="n">min_val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">oper</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">oper</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">oper</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
        <span class="k">elif</span> <span class="n">oper</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_m</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.prime"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.prime">[docs]</a>    <span class="k">def</span> <span class="nf">prime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a PCSet that represents the given object in prime form, taking</span>
<span class="sd">        into account its canonical TTO&#39;s (set these with .canon(T, I, M)).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prime_operation</span>
        <span class="k">return</span> <span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">transpose_multiply</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">)))</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.mpartner"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.mpartner">[docs]</a>    <span class="k">def</span> <span class="nf">mpartner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a PCSet for the M-partner of the given object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose_multiply</span><span class="p">()</span><span class="o">.</span><span class="n">prime</span><span class="p">)</span>
</div>
    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="PPCSetBase.forte_name"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.forte_name">[docs]</a>    <span class="k">def</span> <span class="nf">forte_name</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A static method that returns a PCSet object with the fort-name provided</span>
<span class="sd">        as a string argument.</span>
<span class="sd">        Returns an empty PCSet if the argument is not a string with a valid</span>
<span class="sd">        Forte name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fset</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">from_forte</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
        <span class="n">new_set</span> <span class="o">=</span> <span class="n">PCSet</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">fset</span><span class="p">:</span>
            <span class="n">new_set</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="n">fset</span>
        <span class="k">return</span> <span class="n">new_set</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.forte"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.forte">[docs]</a>    <span class="k">def</span> <span class="nf">forte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Forte name for the given object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">utils</span><span class="o">.</span><span class="n">forte_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcint</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.literal_compliment"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.literal_compliment">[docs]</a>    <span class="k">def</span> <span class="nf">literal_compliment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a PCSet of the literal compliment of the given object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_n</span><span class="p">()</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pcs</span><span class="p">]))</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.abstract_compliment"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.abstract_compliment">[docs]</a>    <span class="k">def</span> <span class="nf">abstract_compliment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a PCSet of the abstract compliment of the given object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">literal_compliment</span><span class="o">.</span><span class="n">prime</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.icv"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.icv">[docs]</a>    <span class="k">def</span> <span class="nf">icv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the interval class vector of the given object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">utils</span><span class="o">.</span><span class="n">icv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_unique_pcs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="PPCSetBase.zpartner"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.zpartner">[docs]</a>    <span class="k">def</span> <span class="nf">zpartner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Z-partner of the given object if it exists, otherwise</span>
<span class="sd">        return None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span> <span class="o">==</span> <span class="mi">12</span><span class="p">:</span>
            <span class="n">zint</span> <span class="o">=</span> <span class="n">Z_PARTNERS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcint</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">zint</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">fromint</span><span class="p">(</span><span class="n">zint</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">each_card</span><span class="p">():</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">each</span><span class="o">.</span><span class="n">prime</span><span class="o">.</span><span class="n">_unique_pcs</span>
            <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">icv</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">icv</span> <span class="ow">and</span> <span class="n">p</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prime</span><span class="o">.</span><span class="n">_unique_pcs</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PPCSetBase.supersets"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.supersets">[docs]</a>    <span class="k">def</span> <span class="nf">supersets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields the supersets of the given object. Takes an optional argument,</span>
<span class="sd">        which limits the supersets to those with a cardinality &lt;= the limit.</span>
<span class="sd">        With no argument, returns all supersets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">sup</span> <span class="ow">in</span> <span class="n">utils</span><span class="o">.</span><span class="n">supersets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">sup</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PPCSetBase.superprimes"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.superprimes">[docs]</a>    <span class="k">def</span> <span class="nf">superprimes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields the supersets of the given object which have a unique set-class.</span>
<span class="sd">        Takes an optional limit argument with the same behavior as supersets()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">sup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">supersets</span><span class="p">(</span><span class="n">limit</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">fromint</span><span class="p">(</span><span class="n">sup</span><span class="o">.</span><span class="n">pcint</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="PPCSetBase.subsets"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.subsets">[docs]</a>    <span class="k">def</span> <span class="nf">subsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields the subsets of the given object. Takes an optional argument,</span>
<span class="sd">        which limits the subsets to those with a cardinality &gt;= the limit.</span>
<span class="sd">        With no argument, returns all subsets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">utils</span><span class="o">.</span><span class="n">subsets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppc</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PPCSetBase.subprimes"><a class="viewcode-back" href="../_templates/core.html#pset.PPCSetBase.subprimes">[docs]</a>    <span class="k">def</span> <span class="nf">subprimes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Yields the subsets of the given object which have a unique set-class.</span>
<span class="sd">        Takes an optional limit argument with the same behavior as subsets().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subsets</span><span class="p">(</span><span class="n">limit</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">PCSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">fromint</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">pcint</span><span class="p">)))</span>

</div></div>
<div class="viewcode-block" id="PCSet"><a class="viewcode-back" href="../_templates/core.html#pset.PCSet">[docs]</a><span class="k">class</span> <span class="nc">PCSet</span><span class="p">(</span><span class="n">PPCSetBase</span><span class="p">,</span> <span class="n">PCBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Class for pitch class sets which adds pitch class only methods</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all instances of a given pc from a pcset&quot;&quot;&quot;</span>
        <span class="n">rm_pcs</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">long</span><span class="p">)):</span>
            <span class="n">rm_pcs</span> <span class="o">=</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="n">rm_pcs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">other</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> <span class="n">rm_pcs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rm_pc</span><span class="p">(</span><span class="n">pc</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_rm_pc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pc</span><span class="p">):</span>
        <span class="k">while</span> <span class="n">pc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pc</span><span class="p">)</span>

<div class="viewcode-block" id="PCSet.c"><a class="viewcode-back" href="../_templates/core.html#pset.PCSet.c">[docs]</a>    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the given object in place to its literal compliment.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">literal_compliment</span><span class="o">.</span><span class="n">pitches</span>
</div>
<div class="viewcode-block" id="PCSet.z"><a class="viewcode-back" href="../_templates/core.html#pset.PCSet.z">[docs]</a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the given object in place to its Z-partner if possible.</span>
<span class="sd">        Otherwise leave the object unchanged.        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zpartner</span>
        <span class="k">if</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">pitches</span>

</div></div>
<div class="viewcode-block" id="PSet"><a class="viewcode-back" href="../_templates/core.html#pset.PSet">[docs]</a><span class="k">class</span> <span class="nc">PSet</span><span class="p">(</span><span class="n">PPCSetBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A class for pitch sets, which adds pitch set only methods.&quot;&quot;&quot;</span>
    <span class="n">_ordered</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">pass</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Sator v.01 documentation</a> &raquo;</li>
          <li><a href="index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Caleb Smith.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>